<ModOps>
  <!-- # Terraced Jornalero -->
  <Group>
    <ModOp Type="addNextSibling" GUID="101255">
      <Asset>
        <Template>ResidenceBuilding7_Colony</Template>
        <Values>
          <Standard>
            <GUID>1500011250</GUID>
            <Name>Terraced Jornalero</Name>
            <IconFilename>data/ui/jakob/icon_terraced_jornalero.png</IconFilename>
            <InfoDescription>163059</InfoDescription>
          </Standard>
          <Blocking />
          <Building>
            <AssociatedRegions>Moderate;Colony01</AssociatedRegions>
            <InfluencedByNeighbors>
              <Item>
                <Building>101255</Building>
              </Item>
              <Item>
                <Building>5405</Building>
              </Item>
            </InfluencedByNeighbors>
            <BuildingBlockPool>
              <!--
                Multiple entries of the same variation for different rotations don't work.
                But vanilla assets.xml also defines them, so they were supposed to work at some point.
              -->
              <Corner>
                <Pool>
                  <Item>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>1</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>2</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>3</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <!-- <Item>
                    <Variation>4</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>5</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item> -->
                </Pool>
              </Corner>
              <Mid>
                <Pool>
                  <Item>
                    <Variation>4</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>5</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>6</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>7</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                </Pool>
              </Mid>
              <End>
                <Pool>
                  <Item>
                    <Variation>8</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>9</Variation>
                    <DirectionOffet>2</DirectionOffet>
                  </Item>
                  <Item>
                    <Variation>10</Variation>
                  </Item>
                  <Item>
                    <Variation>11</Variation>
                  </Item>
                </Pool>
              </End>
            </BuildingBlockPool>
            <InfluencedVariationDirection>
              <!--
                Direction rotates counter clock wise.
                Default facing is X towards NW, Y towards NE.
              -->
              <Item>
                <!-- single -->
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- end, south-west -->
                <Direction>1</Direction>
                <Type>End</Type>
              </Item>
              <Item>
                <!-- end, south-east -->
                <Direction>2</Direction>
                <Type>End</Type>
              </Item>
              <Item>
                <!-- corner, south -->
                <Direction>2</Direction>
                <Type>Corner</Type>
              </Item>
              <Item>
                <!-- end, north-east -->
                <Direction>3</Direction>
                <Type>End</Type>
              </Item>
              <Item>
                <!-- mid, south-west to north-east -->
                <Direction>1</Direction>
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- corner, east -->
                <Direction>3</Direction>
                <Type>Corner</Type>
              </Item>
              <Item>
                <!-- T, front facing south-east -->
                <Direction>3</Direction>
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- end, north-west -->
                <Type>End</Type>
              </Item>
              <Item>
                <!-- corner, west -->
                <Direction>1</Direction>
                <Type>Corner</Type>
              </Item>
              <Item>
                <!-- mid, north-west to south-east -->
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- T, front facing south-west  -->
                <Direction>2</Direction>
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- corner, north -->
                <Type>Corner</Type>
              </Item>
              <Item>
                <!-- T, front facing north-west -->
                <Direction>1</Direction>
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- T, front facing north-east -->
                <Type>Mid</Type>
              </Item>
              <Item>
                <!-- cross -->
              </Item>
            </InfluencedVariationDirection>
          </Building>
          <Cost>
            <Costs>
              <Item>
                <Ingredient>1010196</Ingredient>
                <Amount>2</Amount>
              </Item>
              <Item>
                <Ingredient>1010205</Ingredient>
                <Amount>1</Amount>
              </Item>
            </Costs>
          </Cost>
          <Mesh />
          <Object>
            <Variations>
              <!-- corners -->
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_3.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_3b.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_4.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_6.cfg</Filename>
              </Item>
              <!-- straights -->
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_2.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_1.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_5.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_7.cfg</Filename>
              </Item>
              <!-- end -->
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_4.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_6.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_5.cfg</Filename>
              </Item>
              <Item>
                <Filename>data\jakob\terraced-jornalero\jornalero_7.cfg</Filename>
              </Item>
            </Variations>
          </Object>
          <Selection>
            <ParticipantMessageArcheType>SA_Resident_tier01</ParticipantMessageArcheType>
          </Selection>
          <Constructable />
          <Locked />
          <Upgradable>
            <CurrentTier>1</CurrentTier>
            <NextGUID>1500011043</NextGUID>
            <UpgradeCost>
              <Costs>
                <Item>
                  <Ingredient>1010196</Ingredient>
                  <Amount>2</Amount>
                </Item>
                <Item>
                  <Ingredient>1010205</Ingredient>
                  <Amount>1</Amount>
                </Item>
              </Costs>
            </UpgradeCost>
          </Upgradable>
          <SoundEmitter>
            <BuildingRepaired>
              <Item>
                <Sound>203866</Sound>
              </Item>
            </BuildingRepaired>
            <MaterialType>Stone</MaterialType>
          </SoundEmitter>
          <Infolayer />
          <FeedbackController />
          <Residence7>
            <ResidenceStorage>
              <InputStorageMax>1</InputStorageMax>
            </ResidenceStorage>
            <PopulationLevel7>15000005</PopulationLevel7>
            <ResidentMax>80</ResidentMax>
            <ResidentsRequiredForUpgrade>25</ResidentsRequiredForUpgrade>
            <IsBaseResidence>0</IsBaseResidence>
          </Residence7>
          <LogisticNode>
            <REMOVE_THIS_LATER_FeedbackUnitTier>Level2</REMOVE_THIS_LATER_FeedbackUnitTier>
          </LogisticNode>
          <AmbientMoodProvider>
            <DynamicEnvironmentType>ResidenceT1</DynamicEnvironmentType>
            <HappinessDependentMurmur>
              <Angry>
                <Murmur>JornaleroUnhappy</Murmur>
              </Angry>
              <Unhappy>
                <Murmur>JornaleroContent</Murmur>
              </Unhappy>
              <Neutral>
                <Murmur>JornaleroContent</Murmur>
              </Neutral>
              <Happy>
                <Murmur>JornaleroHappy</Murmur>
              </Happy>
              <Euphoric>
                <Murmur>JornaleroHappy</Murmur>
              </Euphoric>
            </HappinessDependentMurmur>
          </AmbientMoodProvider>
          <UpgradeList>
            <DefaultBuff>1500011251</DefaultBuff> <!-- extra population in this building -->
          </UpgradeList>
          <Attackable>
            <AttackableType>IslandBuilding</AttackableType>
            <MaximumHitPoints>3000</MaximumHitPoints>
          </Attackable>
          <IncidentInfectable>
            <Infectable>
              <Explosion>
                <Base>0</Base>
                <Escalated>0</Escalated>
              </Explosion>
            </Infectable>
            <Explosion>
              <ExplosionCoreDamage>1000</ExplosionCoreDamage>
            </Explosion>
            <IncidentInfectionChanceFactors>
              <Fire>
                <BaseChance>3.5</BaseChance>
                <DensityFactor>0.025</DensityFactor>
                <DensityDistance>15</DensityDistance>
              </Fire>
              <Riot>
                <ResidenceHappinessFactor>0.4</ResidenceHappinessFactor>
                <HappinessThreshold>10</HappinessThreshold>
              </Riot>
              <Illness>
                <BaseChance>3.5</BaseChance>
                <HitpointFactor>0.1</HitpointFactor>
                <DensityFactor>0.025</DensityFactor>
                <DensityDistance>15</DensityDistance>
                <DilapidatedFactor>10</DilapidatedFactor>
                <FactoryOvertimeFactor>0.3</FactoryOvertimeFactor>
                <FactoryUndertimeFactor>0.15</FactoryUndertimeFactor>
                <ResidenceFullOvertimeChance>20</ResidenceFullOvertimeChance>
                <ResidenceFullUndertimeChance>-15</ResidenceFullUndertimeChance>
              </Illness>
              <Explosion>
                <ResidenceFullOvertimeChance>20</ResidenceFullOvertimeChance>
                <ResidenceFullUndertimeChance>-15</ResidenceFullUndertimeChance>
              </Explosion>
            </IncidentInfectionChanceFactors>
          </IncidentInfectable>
          <Pausable />
          <Culture />
          <StreetActivation />
          <Distribution />
          <Maintenance>
            <Maintenances>
              <Item>
                <Product>1010017</Product>
                <Amount>30</Amount>
                <InactiveAmount>30</InactiveAmount>
              </Item>
            </Maintenances>
            <IncomeCategory>Residences</IncomeCategory>
          </Maintenance>
        </Values>
      </Asset>
      <Asset>
        <Template>TownhallBuff</Template>
        <Values>
          <Standard>
            <GUID>1500011251</GUID>
            <Name>Jornalero Capacity Buff</Name>
            <IconFilename>data/ui/2kimages/main/3dicons/icon_resident.png</IconFilename>
          </Standard>
          <PopulationUpgrade>
            <InputBenefitModifier>
              <Item>
                <Product>120033</Product>
                <AdditionalSupply>3</AdditionalSupply>
              </Item>
              <Item>
                <Product>120043</Product>
                <AdditionalSupply>2</AdditionalSupply>
              </Item>
            </InputBenefitModifier>
          </PopulationUpgrade>
          <CultureUpgrade>
            <HideBuff>1</HideBuff>
          </CultureUpgrade>
        </Values>
      </Asset>
    </ModOp>
    <!-- add spawn feeback -->
    <ModOp GUID="142785,2001013" Type="add" Path="/Values/FeedbackBuildingGroup/Buildings">
      <Item>
        <Building>1500011250</Building>
      </Item>
    </ModOp>
  </Group>

  <!-- # Needs -->
  <Group>
    <ModOp GUID="15000005" Type="add"
      Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='120020']/RequiredBuildings">
      <Item>
        <RequiredBuilding>1500011250</RequiredBuilding>
      </Item>
    </ModOp>
    <ModOp GUID="15000005" Type="add" Path="/Values/PopulationLevel7/PopulationInputs">
      <Item>
        <Product>120035</Product>
        <Amount>0.00047619</Amount>
        <SupplyWeight>5</SupplyWeight>
        <MoneyValue>40</MoneyValue>
        <FullWeightPopulationCount>700</FullWeightPopulationCount>
        <NoWeightPopulationCount>399</NoWeightPopulationCount>
        <RequiredBuildings>
          <Item>
            <RequiredBuilding>1500011250</RequiredBuilding>
          </Item>
        </RequiredBuildings>
      </Item>
      <Item>
        <Product>1010213</Product>
        <Amount>0.0002083</Amount>
        <SupplyWeight>5</SupplyWeight>
        <MoneyValue>40</MoneyValue>
        <FullWeightPopulationCount>1000</FullWeightPopulationCount>
        <NoWeightPopulationCount>499</NoWeightPopulationCount>
        <RequiredBuildings>
          <Item>
            <RequiredBuilding>1500011250</RequiredBuilding>
          </Item>
        </RequiredBuildings>
      </Item>
      <Item>
        <Product>1500010102</Product>
        <Amount>0.0002083</Amount>
        <SupplyWeight>5</SupplyWeight>
        <MoneyValue>40</MoneyValue>
        <FullWeightPopulationCount>1200</FullWeightPopulationCount>
        <NoWeightPopulationCount>599</NoWeightPopulationCount>
        <RequiredBuildings>
          <Item>
            <RequiredBuilding>1500011250</RequiredBuilding>
          </Item>
        </RequiredBuildings>
      </Item>
      <Item>
        <Product>133183</Product>
        <Amount>0.0002083</Amount>
        <SupplyWeight>5</SupplyWeight>
        <MoneyValue>40</MoneyValue>
        <ExcludePopulationFromMoneyAndConsumptionCalculation>1</ExcludePopulationFromMoneyAndConsumptionCalculation>
        <IsBonusNeed>1</IsBonusNeed>
        <RequiredBuildings>
          <Item>
            <RequiredBuilding>1500011250</RequiredBuilding>
          </Item>
        </RequiredBuildings>
      </Item>
    </ModOp>
  </Group>

  <!-- # Targets -->
  <Group>
    <ModOp Type="add"
      Path="//ItemEffectTargetPool/EffectTargetGUIDs[Item/GUID='101254']">
      <Item>
        <GUID>1500011250</GUID>
      </Item>
    </ModOp>
    <ModOp Type="add"
      Path="//ItemEffect/EffectTargets[Item/GUID='101254']">
      <Item>
        <GUID>1500011250</GUID>
      </Item>
    </ModOp>
  </Group>

  <!-- # Build Menus -->
  <!-- By Progress Jornalero -->
  <ModOp Type="addNextSibling" GUID="25000193"
    Path="/Values/ConstructionCategory/BuildingList/Item[Building='101254']">
    <Item>
      <Building>1500011250</Building>
    </Item>
  </ModOp>
</ModOps>
